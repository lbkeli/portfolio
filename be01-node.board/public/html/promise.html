<script src="../js/jquery-3.5.1.min.js"></script>
<script>
// 콜백 버전
	const studyCb = (man, cb) => {
		let str = `${man}이(가) 공부를 합니다.`;
		setTimeout(cb, 2000, str); // cb를 실행할거야, 2초 뒤에, str을 담아서
	}

	studyCb("불뚝", (r) => {
		alert(r);
	});

// promise 버전
	const studyProm = (man) => { // 인자만 받고, 콜백을 받지 않음
		return new Promise((resolve, reject) => { // promise한테 () = > {} 이런 인자를 보내줌
			let str = `${man}이(가) 공부를 합니다.`;
			// resolve(str); // 콜백을 실행하는게 아니라 resolve를 실행
			setTimeout(resolve, 2000, str);
		});
	}

/* 	studyProm("홍길순") // promise를 return해주고, 콜백을 then 절에 씀
	.then((r) => {
		alert(r);
	}); */

// async await
	(async () => {
		const r = await studyProm("홍길영");
		alert(r);
	})();


// 기존 버전
	$.get('/json/book.json', (r) => {
		console.log(r);
	});
// jquery 3버전 (promise)
	$.get('/json/book.json').then((r) => {
		console.log(r);
	});
// async await
	(async () => {
		const r = await $.get('/json/book.json');
		console.log(r);
	})();

</script>